<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search and Highlight Text</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .container {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            width: 100%;
            text-align: center;
        }

        input[type="text"] {
            padding: 10px;
            width: 100%;
            max-width: 400px;
            margin: 10px 0;
        }

        button {
            padding: 10px 20px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        button:hover {
            background-color: #0056b3;
        }

        #results {
            margin-top: 20px;
            text-align: left;
            max-height: 400px;
            overflow-y: auto;
            text-align: justify;
            white-space: pre-wrap; /* Preserve whitespace formatting */
        }

        .highlight {
            background-color: yellow;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Search and Highlight Text</h1>
        <input type="text" id="searchTerm" placeholder="Enter search term" />
        <button id="searchButton">Search</button>
        <div id="results"></div>
    </div>

    <script>
        let longString = 'The autumn leaves painted a vibrant tapestry of colors as the crisp morning air carried the scent of fresh pine. People strolled along the cobblestone streets, their footsteps echoing softly as they admired the falling foliage. The town square bustled with activity, where artisans displayed their crafts and vendors offered an array of seasonal treats. Children laughed as they played near the fountain, their joy adding to the festive atmosphere. Above, the sky was a clear expanse of blue, with the occasional bird flying by, completing the picturesque scene of a perfect fall day.'
        // Generate a 1000-character long string
        function generateLongString(length) {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789 ';
            let result = '';
            for (let i = 0; i < length; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }

        //const longString = generateLongString(1000);

        function highlightText(text, term) {
            if (!term) return text;

            const regex = new RegExp(`(${term})`, 'gi');
            return text.replace(regex, '<span class="highlight">$1</span>');
        }

        document.getElementById('searchButton').addEventListener('click', () => {
            const searchTerm = document.getElementById('searchTerm').value.trim();
            const resultsDiv = document.getElementById('results');

            if (!searchTerm) {
                alert('Please enter a search term.');
                return;
            }

            const index = longString.indexOf(searchTerm);
            if (index !== -1) {
                const highlightedText = highlightText(longString, searchTerm);
                resultsDiv.innerHTML = `
                    <p><strong>Found "${searchTerm}" at position ${index}.</strong></p>
                    <p>${highlightedText}</p>
                `;
            } else {
                resultsDiv.innerHTML = `No occurrences of "${searchTerm}" found.`;
            }
        });
    </script>
</body>
</html>